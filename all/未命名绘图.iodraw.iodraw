<mxGraphModel dx="9107" dy="5540" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0"><root><mxCell id="0"/><mxCell id="1" parent="0"/><mxCell id="8bwZ4tnkSAYaotGsnz1U-152" value="DO口输出采集的气体浓度值" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" parent="1" source="8bwZ4tnkSAYaotGsnz1U-146" target="8bwZ4tnkSAYaotGsnz1U-151" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="8bwZ4tnkSAYaotGsnz1U-146" value="MQ2气体传感器：通过有机氧化敏感层的导电性计算出环境中目标气体浓度" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="70" y="220" width="190" height="140" as="geometry"/></mxCell><mxCell id="8bwZ4tnkSAYaotGsnz1U-154" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;" parent="1" source="8bwZ4tnkSAYaotGsnz1U-150" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="340.3103448275863" y="470" as="targetPoint"/></mxGeometry></mxCell><mxCell id="8bwZ4tnkSAYaotGsnz1U-155" value="传输Trig引脚和Echo引脚的值" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="8bwZ4tnkSAYaotGsnz1U-154" vertex="1" connectable="0"><mxGeometry x="-0.1878" y="-1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="8bwZ4tnkSAYaotGsnz1U-150" value="&lt;p class=&quot;MsoNormal&quot;&gt;&lt;span&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;&lt;font face=&quot;Times New Roman&quot;&gt;HC-SR04&lt;/font&gt;&lt;font face=&quot;宋体&quot;&gt;超声波传感器：通过测量发送声波和接收声波的时间差（高电平与低电平之间的时间差）计算测量距离值&lt;/font&gt;&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="290" y="220" width="200" height="160" as="geometry"/></mxCell><mxCell id="8bwZ4tnkSAYaotGsnz1U-151" value="ESP32核心板" style="whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1"><mxGeometry x="160" y="470" width="180" height="180" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="8bwZ4tnkSAYaotGsnz1U-157" target="8bwZ4tnkSAYaotGsnz1U-162" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="8bwZ4tnkSAYaotGsnz1U-157" value="&lt;font style=&quot;font-size: 14px&quot;&gt;感应区：超声波传感器测量测量距离值&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="345" y="800" width="120" height="60" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="8bwZ4tnkSAYaotGsnz1U-162" target="8bwZ4tnkSAYaotGsnz1U-168" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-4" value="&lt;font style=&quot;font-size: 14px&quot;&gt;否&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="j5kCG8a1faT9OvYgENof-3" vertex="1" connectable="0"><mxGeometry x="-0.2583" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="8bwZ4tnkSAYaotGsnz1U-162" target="8bwZ4tnkSAYaotGsnz1U-165" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-6" value="&lt;span style=&quot;font-size: 14px&quot;&gt;是&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="j5kCG8a1faT9OvYgENof-5" vertex="1" connectable="0"><mxGeometry x="-0.2905" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="8bwZ4tnkSAYaotGsnz1U-162" value="&lt;font style=&quot;font-size: 14px&quot;&gt;判断是否小于设定值&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="330" y="910" width="150" height="180" as="geometry"/></mxCell><mxCell id="8bwZ4tnkSAYaotGsnz1U-165" value="舵机旋转180度" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="345" y="1130" width="125" height="60" as="geometry"/></mxCell><mxCell id="8bwZ4tnkSAYaotGsnz1U-168" value="舵机旋转0度" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="190" y="960" width="90" height="80" as="geometry"/></mxCell><mxCell id="8bwZ4tnkSAYaotGsnz1U-169" value="ESP32" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="1" vertex="1"><mxGeometry x="377.5" y="960" width="50" height="20" as="geometry"/></mxCell><mxCell id="8bwZ4tnkSAYaotGsnz1U-173" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.999;entryY=0.924;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="8bwZ4tnkSAYaotGsnz1U-186" target="8bwZ4tnkSAYaotGsnz1U-171" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="130" y="1499" as="sourcePoint"/></mxGeometry></mxCell><mxCell id="8bwZ4tnkSAYaotGsnz1U-175" value="下发命令" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="8bwZ4tnkSAYaotGsnz1U-173" vertex="1" connectable="0"><mxGeometry x="0.1227" y="18" relative="1" as="geometry"><mxPoint y="-7.41" as="offset"/></mxGeometry></mxCell><mxCell id="8bwZ4tnkSAYaotGsnz1U-187" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.13;exitY=0.77;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="8bwZ4tnkSAYaotGsnz1U-170" target="8bwZ4tnkSAYaotGsnz1U-186" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="8bwZ4tnkSAYaotGsnz1U-170" value="云平台" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="290" y="1365" width="180" height="170" as="geometry"/></mxCell><mxCell id="8bwZ4tnkSAYaotGsnz1U-172" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.25;entryY=0.25;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="8bwZ4tnkSAYaotGsnz1U-184" target="8bwZ4tnkSAYaotGsnz1U-170" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="189.8599999999999" y="1403.6799999999998" as="sourcePoint"/></mxGeometry></mxCell><mxCell id="8bwZ4tnkSAYaotGsnz1U-174" value="上传属性" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="8bwZ4tnkSAYaotGsnz1U-172" vertex="1" connectable="0"><mxGeometry x="0.1586" y="-1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="8bwZ4tnkSAYaotGsnz1U-185" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="8bwZ4tnkSAYaotGsnz1U-171" target="8bwZ4tnkSAYaotGsnz1U-184" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="8bwZ4tnkSAYaotGsnz1U-171" value="感知层" style="whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1"><mxGeometry x="-140" y="1380" width="140" height="140" as="geometry"/></mxCell><mxCell id="8bwZ4tnkSAYaotGsnz1U-184" value="前提：云平台订阅感知层上传的主题" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="70" y="1370" width="120" height="80" as="geometry"/></mxCell><mxCell id="8bwZ4tnkSAYaotGsnz1U-186" value="前提：感知层订阅云平台下发的主题" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="105" y="1460" width="120" height="80" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="j5kCG8a1faT9OvYgENof-7" target="j5kCG8a1faT9OvYgENof-9" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-12" value="&lt;font style=&quot;font-size: 15px&quot;&gt;下发控制指令&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="j5kCG8a1faT9OvYgENof-11" vertex="1" connectable="0"><mxGeometry x="-0.3" relative="1" as="geometry"><mxPoint x="-25" as="offset"/></mxGeometry></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-7" value="&lt;font style=&quot;font-size: 25px&quot;&gt;移动端&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="240" y="1890" width="280" height="60" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-9" value="" style="rounded=1;whiteSpace=wrap;html=1;dashed=1;" parent="1" vertex="1"><mxGeometry x="220" y="2030" width="310" height="210" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="j5kCG8a1faT9OvYgENof-10" target="j5kCG8a1faT9OvYgENof-9" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-21" value="&lt;font style=&quot;font-size: 15px&quot;&gt;上传数据&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="j5kCG8a1faT9OvYgENof-20" vertex="1" connectable="0"><mxGeometry x="0.2714" y="1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-10" value="&lt;font style=&quot;font-size: 22px&quot;&gt;感知层&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="250" y="2310" width="250" height="80" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-16" value="&lt;font style=&quot;font-size: 16px&quot;&gt;云平台分析移动端的指令并向下转发&lt;/font&gt;" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="260" y="2080" width="105" height="110" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" parent="1" source="j5kCG8a1faT9OvYgENof-16" target="j5kCG8a1faT9OvYgENof-10" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-17" value="&lt;font style=&quot;font-size: 15px&quot;&gt;应用层&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="1" vertex="1"><mxGeometry x="345" y="2040" width="60" height="20" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" parent="1" source="j5kCG8a1faT9OvYgENof-18" target="j5kCG8a1faT9OvYgENof-7" edge="1"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="450" y="2080"/></Array></mxGeometry></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-18" value="&lt;span style=&quot;font-size: 16px&quot;&gt;云平台接收感知层的数据并向上转发&lt;/span&gt;" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="390" y="2080" width="110" height="105" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-23" value="" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;" parent="1" vertex="1"><mxGeometry x="-570" y="2892" width="210" height="598" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-24" value="" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;" parent="1" vertex="1"><mxGeometry x="30" y="2892" width="210" height="598" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-25" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;Client&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=16;" parent="1" vertex="1"><mxGeometry x="-510" y="2870" width="60" height="20" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-26" value="&lt;font style=&quot;font-size: 16px&quot;&gt;Server&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=16;" parent="1" vertex="1"><mxGeometry x="115" y="2870" width="60" height="20" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=16;" parent="1" source="j5kCG8a1faT9OvYgENof-28" target="j5kCG8a1faT9OvYgENof-30" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-28" value="校验证书" style="whiteSpace=wrap;html=1;aspect=fixed;fontSize=16;" parent="1" vertex="1"><mxGeometry x="-505" y="2938" width="80" height="80" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=16;" parent="1" source="j5kCG8a1faT9OvYgENof-30" target="j5kCG8a1faT9OvYgENof-32" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-34" value="YES" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;" parent="j5kCG8a1faT9OvYgENof-33" vertex="1" connectable="0"><mxGeometry x="-0.2952" y="-1" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=16;" parent="1" source="j5kCG8a1faT9OvYgENof-30" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="-260" y="3100" as="targetPoint"/><Array as="points"><mxPoint x="-280" y="3100"/><mxPoint x="-280" y="3100"/></Array></mxGeometry></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-36" value="NO" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;" parent="j5kCG8a1faT9OvYgENof-35" vertex="1" connectable="0"><mxGeometry x="-0.2656" y="2" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-30" value="Valid" style="rhombus;whiteSpace=wrap;html=1;fontSize=16;" parent="1" vertex="1"><mxGeometry x="-505" y="3058" width="80" height="80" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-32" value="生成随机数" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;" parent="1" vertex="1"><mxGeometry x="-525" y="3188" width="120" height="60" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-37" value="提示HTTPS告警" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;" parent="1" vertex="1"><mxGeometry x="-260" y="3070" width="120" height="60" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-38" value="用【会话密钥】解密内容验证Hash&lt;br style=&quot;font-size: 16px;&quot;&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;" parent="1" vertex="1"><mxGeometry x="-525" y="3288" width="120" height="60" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-39" value="用【会话密钥】加密内容" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;" parent="1" vertex="1"><mxGeometry x="-525" y="3388" width="120" height="60" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-40" value="crt/private&lt;br style=&quot;font-size: 16px;&quot;&gt;crt/public" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;" parent="1" vertex="1"><mxGeometry x="85" y="2940" width="120" height="60" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=16;" parent="1" source="j5kCG8a1faT9OvYgENof-41" target="j5kCG8a1faT9OvYgENof-42" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-41" value="用私钥解密获得随机数生成【会话密钥】" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;" parent="1" vertex="1"><mxGeometry x="85" y="3190" width="120" height="60" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=16;" parent="1" source="j5kCG8a1faT9OvYgENof-42" target="j5kCG8a1faT9OvYgENof-44" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-42" value="会话密钥" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;" parent="1" vertex="1"><mxGeometry x="92.5" y="3270" width="105" height="40" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-44" value="用【会话密钥】加密内容" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;" parent="1" vertex="1"><mxGeometry x="85" y="3340" width="120" height="60" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-45" value="用【会话密钥】解密内容" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;" parent="1" vertex="1"><mxGeometry x="85" y="3420" width="120" height="60" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-50" value="" style="endArrow=classic;html=1;entryX=0;entryY=0.08;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1.014;exitY=0.084;exitDx=0;exitDy=0;exitPerimeter=0;fontSize=16;" parent="1" source="j5kCG8a1faT9OvYgENof-23" target="j5kCG8a1faT9OvYgENof-24" edge="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-200" y="3220" as="sourcePoint"/><mxPoint x="-150" y="3170" as="targetPoint"/></mxGeometry></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-51" value="①客户端发出请求，发送Random C支持的加密算法" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;" parent="j5kCG8a1faT9OvYgENof-50" vertex="1" connectable="0"><mxGeometry x="-0.2427" relative="1" as="geometry"><mxPoint x="40.06" y="-18.32" as="offset"/></mxGeometry></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-52" value="" style="endArrow=classic;html=1;entryX=1;entryY=0.25;entryDx=0;entryDy=0;fontSize=16;exitX=0;exitY=0.25;exitDx=0;exitDy=0;" parent="1" source="j5kCG8a1faT9OvYgENof-24" target="j5kCG8a1faT9OvYgENof-23" edge="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-40" y="3039" as="sourcePoint"/><mxPoint x="-150" y="3170" as="targetPoint"/></mxGeometry></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-54" value="服务端返回证书，Random S 协商加密算法②" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;" parent="j5kCG8a1faT9OvYgENof-52" vertex="1" connectable="0"><mxGeometry x="-0.1437" y="3" relative="1" as="geometry"><mxPoint x="-13.03" y="-25.07" as="offset"/></mxGeometry></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-56" value="" style="endArrow=classic;html=1;exitX=1.002;exitY=0.565;exitDx=0;exitDy=0;exitPerimeter=0;entryX=-0.011;entryY=0.563;entryDx=0;entryDy=0;entryPerimeter=0;fontSize=16;" parent="1" source="j5kCG8a1faT9OvYgENof-23" target="j5kCG8a1faT9OvYgENof-24" edge="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-200" y="3220" as="sourcePoint"/><mxPoint x="-150" y="3170" as="targetPoint"/></mxGeometry></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-57" value="⑤用公钥加密随机数Pre Master Key 并发送随机数密文" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;" parent="j5kCG8a1faT9OvYgENof-56" vertex="1" connectable="0"><mxGeometry x="-0.1852" relative="1" as="geometry"><mxPoint x="31.58" y="-20.380000000000003" as="offset"/></mxGeometry></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-58" value="" style="endArrow=classic;html=1;entryX=1.002;entryY=0.767;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.008;exitY=0.768;exitDx=0;exitDy=0;exitPerimeter=0;fontSize=16;" parent="1" source="j5kCG8a1faT9OvYgENof-24" target="j5kCG8a1faT9OvYgENof-23" edge="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-43" y="3351" as="sourcePoint"/><mxPoint x="-150" y="3170" as="targetPoint"/></mxGeometry></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-59" value="服务端返回会话密钥加密后的密文⑦" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;" parent="j5kCG8a1faT9OvYgENof-58" vertex="1" connectable="0"><mxGeometry x="0.3718" y="-3" relative="1" as="geometry"><mxPoint x="38.31" y="-7.85" as="offset"/></mxGeometry></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-60" value="" style="endArrow=classic;html=1;fontSize=16;entryX=0.009;entryY=0.895;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" target="j5kCG8a1faT9OvYgENof-24" edge="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-360" y="3430" as="sourcePoint"/><mxPoint x="25.059999999999945" y="3427.808" as="targetPoint"/></mxGeometry></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-63" value="⑨之前协商好的【会话密钥】及加密算法进行加解密" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;" parent="j5kCG8a1faT9OvYgENof-60" vertex="1" connectable="0"><mxGeometry x="-0.2505" y="2" relative="1" as="geometry"><mxPoint x="53.019999999999996" y="-18" as="offset"/></mxGeometry></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-65" value="&lt;font style=&quot;font-size: 16px&quot;&gt;握手消息Hash&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;" parent="1" vertex="1"><mxGeometry x="-760" y="3288" width="120" height="60" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-66" value="⑧" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="1" vertex="1"><mxGeometry x="-790" y="3310" width="30" height="20" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-67" value="" style="endArrow=classic;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=16;" parent="1" target="j5kCG8a1faT9OvYgENof-65" edge="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-570" y="3318" as="sourcePoint"/><mxPoint x="-520" y="3170" as="targetPoint"/></mxGeometry></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-68" value="" style="endArrow=classic;html=1;exitX=-0.014;exitY=0.889;exitDx=0;exitDy=0;exitPerimeter=0;fontSize=16;" parent="1" source="j5kCG8a1faT9OvYgENof-23" edge="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-570" y="3220" as="sourcePoint"/><mxPoint x="-640" y="3424" as="targetPoint"/></mxGeometry></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-69" value="明文内容" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;" parent="1" vertex="1"><mxGeometry x="-760" y="3388" width="120" height="60" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-72" value="" style="endArrow=classic;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=16;" parent="1" source="j5kCG8a1faT9OvYgENof-30" target="j5kCG8a1faT9OvYgENof-74" edge="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-570" y="3220" as="sourcePoint"/><mxPoint x="-660" y="3098" as="targetPoint"/></mxGeometry></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-73" value="&lt;font style=&quot;font-size: 16px&quot;&gt;③通过本地内置CA验证&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;" parent="j5kCG8a1faT9OvYgENof-72" vertex="1" connectable="0"><mxGeometry x="0.3011" relative="1" as="geometry"><mxPoint x="25" y="12" as="offset"/></mxGeometry></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-74" value="&lt;font style=&quot;font-size: 16px&quot;&gt;第三方机构CA&lt;/font&gt;" style="whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1"><mxGeometry x="-800" y="3043" width="110" height="110" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-75" value="" style="endArrow=classic;html=1;exitX=0.998;exitY=0.121;exitDx=0;exitDy=0;exitPerimeter=0;fontSize=16;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="j5kCG8a1faT9OvYgENof-24" target="j5kCG8a1faT9OvYgENof-76" edge="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="-50" y="3220" as="sourcePoint"/><mxPoint x="310" y="2964" as="targetPoint"/></mxGeometry></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-76" value="服务端设置好了一个密钥对，用于非对称加密，服务端保存私钥，不能对外泄露，公钥对外公开" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;" parent="1" vertex="1"><mxGeometry x="359" y="2923" width="232" height="82" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-77" value="&lt;font style=&quot;font-size: 16px&quot;&gt;⑥服务端用私钥解密密文，得到随机数Pre Master Key，&lt;br&gt;将Random C、Random S、Pre Master Key&lt;br&gt;根据约定的算法生成本次对话的【会话密钥】&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="1" vertex="1"><mxGeometry x="270" y="3195" width="410" height="50" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-83" value="Text" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=16;" parent="j5kCG8a1faT9OvYgENof-77" vertex="1"><mxGeometry x="141" y="14" width="40" height="20" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-78" value="" style="endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=16;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="j5kCG8a1faT9OvYgENof-44" target="j5kCG8a1faT9OvYgENof-80" edge="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="40" y="3190" as="sourcePoint"/><mxPoint x="260" y="3370" as="targetPoint"/></mxGeometry></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-79" value="" style="endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=16;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="j5kCG8a1faT9OvYgENof-45" target="j5kCG8a1faT9OvYgENof-81" edge="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="40" y="3190" as="sourcePoint"/><mxPoint x="326" y="3450" as="targetPoint"/></mxGeometry></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-80" value="握手信息" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;" parent="1" vertex="1"><mxGeometry x="340" y="3340" width="120" height="60" as="geometry"/></mxCell><mxCell id="j5kCG8a1faT9OvYgENof-81" value="明文内容" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;" parent="1" vertex="1"><mxGeometry x="330" y="3420" width="120" height="60" as="geometry"/></mxCell></root></mxGraphModel>